{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\sites\\\\github\\\\courses\\\\sermon-outlines\\\\stephen-reynolds-jr\\\\Youth Revelation Study\\\\youth-bible-study\\\\pages\\\\course\\\\[course].js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useState, Component } from 'react';\nimport styles from '../../styles/Revelation.module.css';\nimport Head from 'next/head';\nimport { withRouter } from \"next/router\";\nimport eStyles from './Course.module.css';\nimport Line, { lineTypes, templates } from '../Blocks/Line';\n\nvar Course = /*#__PURE__*/function (_Component) {\n  _inherits(Course, _Component);\n\n  var _super = _createSuper(Course);\n\n  function Course(props) {\n    var _this;\n\n    _classCallCheck(this, Course);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      file: false,\n      lineTypes: lineTypes,\n      lines: [],\n      lesson: 1,\n      lessons: [],\n      showRaw: false\n    };\n    return _this;\n  }\n\n  _createClass(Course, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      /**/\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      if (newProps.router.query.course !== this.props.router.query.course || this.state.lines === undefined) {\n        var lines = [];\n        var course = newProps.router.query.course;\n\n        if (localStorage.getItem(course) === null) {\n          lines = [];\n          localStorage.setItem(course, JSON.stringify(lines));\n        } else {\n          lines = JSON.parse(localStorage.getItem(course));\n          if (lines === null) lines = [];\n        }\n\n        this.setState({\n          lines: lines,\n          lessons: this.getLessons(lines)\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var lesson = this.state.lesson;\n      var handleSelectLesson = this.handleSelectLesson.bind(this);\n      var columnStyle = {\n        height: \"500px\",\n        overflow: \"scroll\"\n      };\n\n      if (showRaw) {\n        rawStyle = {\n          display: \"block\"\n        };\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: [/*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Course | Youth Revelation Study\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n            rel: \"icon\",\n            href: \"/favicon.ico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n            charset: \"UTF-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              borderBottom: \"solid 2px gray\",\n              position: \"fixed\",\n              top: \"0\",\n              height: \"75px\",\n              backgroundColor: \"white\",\n              width: \"75%\",\n              marginTop: \"0\"\n            },\n            children: [\"Editor | Lesson \", this.state.lesson, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.save.bind(this),\n              children: \"SAVE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 180\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                \"float\": \"right\",\n                fontSize: \".7rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"input-file\",\n                onChange: this.getFile.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 280\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 232\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: \"75px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: eStyles.row,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: eStyles.column + \" \" + eStyles.smallColumn,\n              children: this.state.lessons.map(function (less, k) {\n                return /*#__PURE__*/_jsxDEV(SelectLessonForm, {\n                  lesson: less,\n                  handleSelectLesson: handleSelectLesson\n                }, k, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 20\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: eStyles.column,\n              children: this.state.lines.map(function (line, i) {\n                if (line.lesson === lesson) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: toggleRaw,\n                      children: \"raw\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 27\n                    }, this), \" >\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      readOnly: true,\n                      className: eStyles.raw,\n                      style: rawStyle,\n                      value: JSON.stringify(line),\n                      onClick: copyTextToClipboard\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: eStyles.row,\n                      style: {\n                        height: \"400px\",\n                        overflow: \"scroll\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: eStyles.column,\n                        children: [/*#__PURE__*/_jsxDEV(Line, {\n                          index: i,\n                          data: line,\n                          update: update,\n                          style: columnStyle\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 99,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            color: \"red\",\n                            marginLeft: \"15px\"\n                          },\n                          onClick: function onClick(e) {\n                            deleteLine(i);\n                          },\n                          children: \"x\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 100,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(MoveToLessonForm, {\n                          index: i,\n                          lesson: line.lesson,\n                          handleMoveToLesson: moveToLesson\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 103,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: eStyles.column,\n                        style: {\n                          fontSize: \"60%\",\n                          paddingLeft: \"15px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Line, {\n                          index: i,\n                          data: line,\n                          read: true,\n                          style: columnStyle\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 29\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 26\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 2\n      }, this);\n    }\n  }, {\n    key: \"handleSelectLesson\",\n    value: function handleSelectLesson(e) {\n      e.preventDefault();\n      var id = e.target.id.value;\n\n      var newState = _objectSpread({}, this.state);\n\n      newState.lesson = parseInt(id);\n      this.setState(_objectSpread({}, newState));\n    }\n  }, {\n    key: \"getLessons\",\n    value: function getLessons(lines) {\n      var lessons = [];\n      var i;\n      var id = 0;\n      var lindex = 0;\n\n      for (i = 0; i < lines.length; i++) {\n        id = parseInt(lines[i].lesson);\n        lindex = id - 1;\n\n        if (lessons[lindex] === undefined) {\n          lessons[lindex] = {\n            id: id,\n            count: 1\n          };\n        } else {\n          lessons[lindex] = {\n            id: id,\n            count: lessons[lindex].count + 1\n          };\n        }\n      }\n\n      return lessons;\n    }\n  }]);\n\n  return Course;\n}(Component);\n\nexport default _c = withRouter(Course);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/sites/github/courses/sermon-outlines/stephen-reynolds-jr/Youth Revelation Study/youth-bible-study/pages/course/[course].js"],"names":["useState","Component","styles","Head","withRouter","eStyles","Line","lineTypes","templates","Course","props","state","file","lines","lesson","lessons","showRaw","newProps","router","query","course","undefined","localStorage","getItem","setItem","JSON","stringify","parse","setState","getLessons","handleSelectLesson","bind","columnStyle","height","overflow","rawStyle","display","borderBottom","position","top","backgroundColor","width","marginTop","save","fontSize","getFile","row","column","smallColumn","map","less","k","line","i","toggleRaw","raw","copyTextToClipboard","update","color","marginLeft","e","deleteLine","moveToLesson","paddingLeft","preventDefault","id","target","value","newState","parseInt","lindex","length","count"],"mappings":"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","sourcesContent":["import { useState, Component } from 'react'\r\nimport styles from '../../styles/Revelation.module.css'\r\nimport Head from 'next/head'\r\nimport { withRouter } from \"next/router\"\r\nimport eStyles from './Course.module.css'\r\n\r\nimport Line, {lineTypes, templates} from '../Blocks/Line'\r\n\r\nclass Course extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    \tfile:false,\r\n    \tlineTypes: lineTypes,\r\n    \tlines:[],\r\n      lesson: 1,\r\n      lessons:[],\r\n      showRaw: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() { /**/ }\r\n\r\nUNSAFE_componentWillReceiveProps(newProps){\r\n\r\n  if(newProps.router.query.course !== this.props.router.query.course || this.state.lines === undefined){\r\n    \r\n    let lines = []\r\n    const course = newProps.router.query.course\r\n\r\n    if(localStorage.getItem(course) === null){\r\n      lines = [];\r\n      localStorage.setItem(course, JSON.stringify(lines));\r\n    }else{\r\n      lines = JSON.parse(localStorage.getItem(course));\r\n      if(lines === null) lines = []\r\n    }\r\n\r\n    this.setState({\r\n      lines: lines,\r\n      lessons: this.getLessons(lines)\r\n    })\r\n\r\n  }\r\n}\r\n\r\n  render() {\r\n\r\n      const lesson = this.state.lesson\r\n      const handleSelectLesson = this.handleSelectLesson.bind(this)\r\n    \r\n      const columnStyle = {height:\"500px\", overflow:\"scroll\"}\r\n      if(showRaw){\r\n         rawStyle = {display:\"block\"}        \r\n      }\r\n    return (\r\n\t<div>\r\n\t      <Head>\r\n\t        <title>Course | Youth Revelation Study</title>\r\n\t        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n\t        <meta charset=\"UTF-8\" />\r\n\r\n\t      </Head>\r\n\r\n\t\t<main>\r\n\r\n    <h1 style={{borderBottom:\"solid 2px gray\", position:\"fixed\", top:\"0\", height:\"75px\", backgroundColor:\"white\", width:\"75%\", marginTop:\"0\"}}>Editor | Lesson {this.state.lesson} <button onClick={this.save.bind(this)}>SAVE</button><span style={{float:\"right\", fontSize:\".7rem\"}}><input type=\"file\" id=\"input-file\" onChange={this.getFile.bind(this)} /></span>\r\n    </h1>\r\n\r\n    <div style={{height:\"75px\"}}></div>\r\n\t    \r\n    \t <div className={eStyles.row}>\r\n        <div className={eStyles.column + \" \" + eStyles.smallColumn}>\r\n           {this.state.lessons.map(function(less, k){\r\n            return <SelectLessonForm key={k} lesson={less} handleSelectLesson={handleSelectLesson}/>\r\n           })}\r\n\r\n        </div>\r\n        <div className={eStyles.column}>\r\n\r\n               \r\n\r\n              {this.state.lines.map(function(line, i){\r\n\r\n                if(line.lesson === lesson){\r\n                  \r\n                  return <div key={i}>\r\n                        \r\n                          <button onClick={toggleRaw}>raw</button> > \r\n                                <textarea \r\n                                 readOnly \r\n                                 className={eStyles.raw} style={rawStyle}\r\n                                 value={JSON.stringify(line)}\r\n                                 onClick={copyTextToClipboard}\r\n                              />\r\n\r\n                            <div className={eStyles.row} style={{height:\"400px\", overflow:\"scroll\"}}>\r\n                              <div className={eStyles.column}>\r\n                                <Line index={i} data={line} update={update} style={columnStyle}/>\r\n                                <button style={{color:\"red\", marginLeft:\"15px\"}} onClick={(e)=>{\r\n                                  deleteLine(i)\r\n                                }}>x</button>\r\n                                <MoveToLessonForm index={i} lesson={line.lesson} handleMoveToLesson={moveToLesson}/>\r\n                                \r\n                              </div>\r\n\r\n                            <div className={eStyles.column} style={{fontSize:\"60%\", paddingLeft:\"15px\"}}>\r\n                              <Line index={i} data={line} read={true} style={columnStyle}/>\r\n                            </div>\r\n\r\n           \r\n                          </div>\r\n\r\n                       </div>\r\n                  }\r\n              })}\r\n\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\t\t</main>\r\n\r\n\r\n</div>\r\n    );\r\n  }\r\n\r\nhandleSelectLesson(e){\r\n    e.preventDefault();\r\n    const id = e.target.id.value\r\n    let newState = {...this.state}\r\n    newState.lesson = parseInt(id)\r\n    this.setState({...newState})\r\n}\r\n\r\ngetLessons(lines){\r\n\r\n  let lessons = []\r\n  let i;\r\n  let id = 0;\r\n  let lindex = 0;\r\n\r\n  for(i = 0; i < lines.length; i++){\r\n    id = parseInt(lines[i].lesson)\r\n    lindex = id-1\r\n\r\n    if(lessons[lindex] === undefined){\r\n      lessons[lindex] = {id:id, count:1}\r\n    }else{\r\n      lessons[lindex] = {id:id, count:lessons[lindex].count+1}\r\n    }\r\n    \r\n  }\r\n\r\n  return lessons\r\n}\r\n\r\n\r\n}\r\nexport default withRouter(Course)"]},"metadata":{},"sourceType":"module"}