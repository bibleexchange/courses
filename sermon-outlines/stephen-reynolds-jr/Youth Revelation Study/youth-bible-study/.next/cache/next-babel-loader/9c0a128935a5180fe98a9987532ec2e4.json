{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\sites\\\\github\\\\courses\\\\sermon-outlines\\\\stephen-reynolds-jr\\\\Youth Revelation Study\\\\youth-bible-study\\\\pages\\\\editor.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, Component } from 'react';\nimport styles from '../styles/Revelation.module.css';\nimport Head from 'next/head';\nimport { withRouter } from \"next/router\";\nimport Line, { lineTypes, templates } from './Blocks/Line';\n\nfunction NewLineForm({\n  index,\n  handleNewLine\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#dcdcdc\",\n      color: \"#dcdcdc\",\n      margin: \"15px\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        background: \"none\",\n        width: \"50%\",\n        margin: \"auto\"\n      },\n      onSubmit: handleNewLine,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"index\",\n        value: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        style: {\n          background: \"none\"\n        },\n        name: \"lineType\",\n        id: \"lineTypes\" + index,\n        defaultValue: \"md\",\n        children: lineTypes.map(function (t) {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t,\n            children: t\n          }, t, false, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          background: \"none\"\n        },\n        type: \"submit\",\n        value: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 98\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 11\n  }, this);\n}\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      questions: [],\n      file: false,\n      lineTypes: lineTypes,\n      lines: []\n    };\n  }\n\n  componentDidMount() {\n    let lines = [];\n\n    if (localStorage.getItem(this.props.router.query.course) === null) {\n      lines = [];\n      localStorage.setItem(this.props.router.query.course, JSON.stringify(lines));\n    } else {\n      lines = JSON.parse(localStorage.getItem(this.props.router.query.course));\n    }\n\n    this.setState({\n      lines: lines\n    });\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.router.query.course !== this.props.router.query.course) {\n      this.setState({\n        lines: JSON.parse(localStorage.getItem(this.props.router.query.course))\n      });\n    }\n  }\n\n  render() {\n    const handleNewLine = this.handleNewLine.bind(this);\n    const update = this.update.bind(this);\n    const deleteLine = this.deleteLine.bind(this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Head, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"Block Editor | Youth Revelation Study\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          rel: \"icon\",\n          href: \"/favicon.ico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          charset: \"UTF-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            borderBottom: \"solid 2px gray\"\n          },\n          children: [\"Block Editor  \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.save.bind(this),\n            children: \"SAVE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 63\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              float: \"right\",\n              fontSize: \".7rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"input-file\",\n              onChange: this.getFile.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 163\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 115\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(NewLineForm, {\n          index: 0,\n          handleNewLine: handleNewLine\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }, this), this.state.lines.map(function (line, i) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\"\n              },\n              onClick: e => {\n                deleteLine(i);\n              },\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Line, {\n              index: i,\n              data: line,\n              update: update\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(NewLineForm, {\n              index: i + 1,\n              handleNewLine: handleNewLine\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 2\n    }, this);\n  }\n\n  save() {\n    const txt = JSON.stringify(this.state.lines);\n    localStorage.setItem(this.props.router.query.course, txt); // Start file download.\n\n    this.download(this.props.router.query.course + \".json\", txt);\n  }\n\n  download(filename, text) {\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  getFile(event) {\n    const input = event.target;\n\n    if ('files' in input && input.files.length > 0) {\n      const lines = this.placeFileContent(input.files[0]).then(lines => {\n        this.setState({\n          lines: lines\n        });\n      });\n    }\n  }\n\n  placeFileContent(file) {\n    return this.readFileContent(file).then(content => {\n      return JSON.parse(content);\n    }).catch(error => console.log(error));\n  }\n\n  readFileContent(file) {\n    const reader = new FileReader();\n    return new Promise((resolve, reject) => {\n      reader.onload = event => resolve(event.target.result);\n\n      reader.onerror = error => reject(error);\n\n      reader.readAsText(file);\n    });\n  }\n\n  handleNewLine(e) {\n    e.preventDefault();\n    const lineType = e.target.lineType.value;\n    const index = e.target.index.value;\n\n    let newState = _objectSpread({}, this.state);\n\n    newState.lines.splice(index, 0, templates[lineType]);\n    this.setState(_objectSpread({}, newState));\n  }\n\n  update(line, data) {\n    let newState = _objectSpread({}, this.state);\n\n    newState.lines[line] = _objectSpread({}, data);\n    this.setState(newState);\n  }\n\n  deleteLine(line) {\n    let newData = _objectSpread({}, this.state);\n\n    newData.lines.splice(line, 1);\n    this.setState(newData);\n  }\n\n}\n\nexport default withRouter(Editor);\n/*\r\n1-4 Ellyanna\r\n5-11 Jeremiah\r\n12-16 Benjamin\r\n17-22 Rosemary\r\n\r\n1. Summaries\r\n2. Conclusing of Book 1 sentence\r\n\r\n\t\t<Quiz line={1} questions={this.state.questions} updateQuestion={updateQuestion}/>\r\n\r\n    */","map":{"version":3,"sources":["C:/sites/github/courses/sermon-outlines/stephen-reynolds-jr/Youth Revelation Study/youth-bible-study/pages/editor.js"],"names":["useState","Component","styles","Head","withRouter","Line","lineTypes","templates","NewLineForm","index","handleNewLine","backgroundColor","color","margin","width","background","map","t","Editor","constructor","props","state","questions","file","lines","componentDidMount","localStorage","getItem","router","query","course","setItem","JSON","stringify","parse","setState","componentWillReceiveProps","newProps","render","bind","update","deleteLine","borderBottom","save","float","fontSize","getFile","line","i","marginLeft","e","txt","download","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","event","input","target","files","length","placeFileContent","then","readFileContent","content","catch","error","console","log","reader","FileReader","Promise","resolve","reject","onload","result","onerror","readAsText","preventDefault","lineType","value","newState","splice","data","newData"],"mappings":";;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,QAA2B,aAA3B;AAEA,OAAOC,IAAP,IAAcC,SAAd,EAAyBC,SAAzB,QAAyC,eAAzC;;AAEA,SAASC,WAAT,CAAqB;AAACC,EAAAA,KAAD;AAAQC,EAAAA;AAAR,CAArB,EAA4C;AAC1C,sBAAQ;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,eAAe,EAAC,SAAjB;AAA4BC,MAAAA,KAAK,EAAC,SAAlC;AAA6CC,MAAAA,MAAM,EAAC,MAApD;AAA4DC,MAAAA,KAAK,EAAC;AAAlE,KAAZ;AAAA,2BAAuF;AAAM,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAC,MAAZ;AAAoBD,QAAAA,KAAK,EAAC,KAA1B;AAAiCD,QAAAA,MAAM,EAAC;AAAxC,OAAb;AAA8D,MAAA,QAAQ,EAAEH,aAAxE;AAAA,8BACnF;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,IAAI,EAAC,OAA1B;AAAkC,QAAA,KAAK,EAAED;AAAzC;AAAA;AAAA;AAAA;AAAA,cADmF,eAGjF;AAAQ,QAAA,KAAK,EAAE;AAACM,UAAAA,UAAU,EAAC;AAAZ,SAAf;AAAoC,QAAA,IAAI,EAAC,UAAzC;AAAoD,QAAA,EAAE,EAAE,cAAcN,KAAtE;AAA6E,QAAA,YAAY,EAAC,IAA1F;AAAA,kBACGH,SAAS,CAACU,GAAV,CAAc,UAASC,CAAT,EAAW;AACxB,8BAAO;AAAgB,YAAA,KAAK,EAAEA,CAAvB;AAAA,sBAA2BA;AAA3B,aAAaA,CAAb;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD,SAFA;AADH;AAAA;AAAA;AAAA;AAAA,cAHiF,eAUnF;AAAO,QAAA,KAAK,EAAE;AAACF,UAAAA,UAAU,EAAC;AAAZ,SAAd;AAAmC,QAAA,IAAI,EAAC,QAAxC;AAAiD,QAAA,KAAK,EAAC;AAAvD;AAAA;AAAA;AAAA;AAAA,cAVmF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvF;AAAA;AAAA;AAAA;AAAA,UAAR;AAYD;;AAED,MAAMG,MAAN,SAAqBjB,SAArB,CAA+B;AAC7BkB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,SAAS,EAAE,EADC;AAEZC,MAAAA,IAAI,EAAC,KAFO;AAGZjB,MAAAA,SAAS,EAAEA,SAHC;AAIZkB,MAAAA,KAAK,EAAC;AAJM,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAID,KAAK,GAAG,EAAZ;;AAEA,QAAGE,YAAY,CAACC,OAAb,CAAqB,KAAKP,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA7C,MAAyD,IAA5D,EAAiE;AAChEN,MAAAA,KAAK,GAAG,EAAR;AACAE,MAAAA,YAAY,CAACK,OAAb,CAAqB,KAAKX,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA7C,EAAqDE,IAAI,CAACC,SAAL,CAAeT,KAAf,CAArD;AACA,KAHD,MAGK;AACJA,MAAAA,KAAK,GAAGQ,IAAI,CAACE,KAAL,CAAWR,YAAY,CAACC,OAAb,CAAqB,KAAKP,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA7C,CAAX,CAAR;AACA;;AAED,SAAKK,QAAL,CAAc;AACbX,MAAAA,KAAK,EAAEA;AADM,KAAd;AAGH;;AAEDY,EAAAA,yBAAyB,CAACC,QAAD,EAAU;AACjC,QAAGA,QAAQ,CAACT,MAAT,CAAgBC,KAAhB,CAAsBC,MAAtB,KAAiC,KAAKV,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA5D,EAAmE;AACjE,WAAKK,QAAL,CAAc;AAACX,QAAAA,KAAK,EAACQ,IAAI,CAACE,KAAL,CAAWR,YAAY,CAACC,OAAb,CAAqB,KAAKP,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA7C,CAAX;AAAP,OAAd;AACD;AACF;;AAECQ,EAAAA,MAAM,GAAG;AACN,UAAM5B,aAAa,GAAG,KAAKA,aAAL,CAAmB6B,IAAnB,CAAwB,IAAxB,CAAtB;AACA,UAAMC,MAAM,GAAG,KAAKA,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAAf;AACA,UAAME,UAAU,GAAG,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAnB;AACD,wBACH;AAAA,8BACM,QAAC,IAAD;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,GAAG,EAAC,MAAV;AAAiB,UAAA,IAAI,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAM,UAAA,OAAO,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADN,eAQC;AAAA,gCAEE;AAAI,UAAA,KAAK,EAAE;AAACG,YAAAA,YAAY,EAAC;AAAd,WAAX;AAAA,oDAA0D;AAAQ,YAAA,OAAO,EAAE,KAAKC,IAAL,CAAUJ,IAAV,CAAe,IAAf,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA1D,eAA8G;AAAM,YAAA,KAAK,EAAE;AAACK,cAAAA,KAAK,EAAC,OAAP;AAAgBC,cAAAA,QAAQ,EAAC;AAAzB,aAAb;AAAA,mCAAgD;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC,YAAtB;AAAmC,cAAA,QAAQ,EAAE,KAAKC,OAAL,CAAaP,IAAb,CAAkB,IAAlB;AAA7C;AAAA;AAAA;AAAA;AAAA;AAAhD;AAAA;AAAA;AAAA;AAAA,kBAA9G;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAOE,QAAC,WAAD;AAAa,UAAA,KAAK,EAAE,CAApB;AAAuB,UAAA,aAAa,EAAE7B;AAAtC;AAAA;AAAA;AAAA;AAAA,gBAPF,EASC,KAAKW,KAAL,CAAWG,KAAX,CAAiBR,GAAjB,CAAqB,UAAS+B,IAAT,EAAeC,CAAf,EAAiB;AACtC,8BAAO;AAAA,oCAAa;AAAQ,cAAA,KAAK,EAAE;AAACpC,gBAAAA,KAAK,EAAC,KAAP;AAAcqC,gBAAAA,UAAU,EAAC;AAAzB,eAAf;AAAiD,cAAA,OAAO,EAAGC,CAAD,IAAK;AACtET,gBAAAA,UAAU,CAACO,CAAD,CAAV;AACD,eAFQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAb,eAEiB,QAAC,IAAD;AAAc,cAAA,KAAK,EAAEA,CAArB;AAAwB,cAAA,IAAI,EAAED,IAA9B;AAAoC,cAAA,MAAM,EAAEP;AAA5C,eAAWQ,CAAX;AAAA;AAAA;AAAA;AAAA,oBAFjB,eAGI,QAAC,WAAD;AAAa,cAAA,KAAK,EAAEA,CAAC,GAAC,CAAtB;AAAyB,cAAA,aAAa,EAAEtC;AAAxC;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA,aAAUsC,CAAV;AAAA;AAAA;AAAA;AAAA,kBAAP;AAIA,SALA,CATD;AAAA;AAAA;AAAA;AAAA;AAAA,cARD;AAAA;AAAA;AAAA;AAAA;AAAA,YADG;AA8BD;;AAEHL,EAAAA,IAAI,GAAE;AACL,UAAMQ,GAAG,GAAGnB,IAAI,CAACC,SAAL,CAAe,KAAKZ,KAAL,CAAWG,KAA1B,CAAZ;AACAE,IAAAA,YAAY,CAACK,OAAb,CAAqB,KAAKX,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAA7C,EAAqDqB,GAArD,EAFK,CAIL;;AACA,SAAKC,QAAL,CAAc,KAAKhC,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBC,MAAxB,GAA+B,OAA7C,EAAqDqB,GAArD;AACA;;AAEDC,EAAAA,QAAQ,CAACC,QAAD,EAAWC,IAAX,EAAiB;AACvB,QAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAd;AACAF,IAAAA,OAAO,CAACG,YAAR,CAAqB,MAArB,EAA6B,mCAAmCC,kBAAkB,CAACL,IAAD,CAAlF;AACAC,IAAAA,OAAO,CAACG,YAAR,CAAqB,UAArB,EAAiCL,QAAjC;AAEAE,IAAAA,OAAO,CAACK,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAL,IAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,OAA1B;AAEAA,IAAAA,OAAO,CAACS,KAAR;AAEAR,IAAAA,QAAQ,CAACM,IAAT,CAAcG,WAAd,CAA0BV,OAA1B;AACD;;AAEDT,EAAAA,OAAO,CAACoB,KAAD,EAAQ;AACd,UAAMC,KAAK,GAAGD,KAAK,CAACE,MAApB;;AACC,QAAI,WAAWD,KAAX,IAAoBA,KAAK,CAACE,KAAN,CAAYC,MAAZ,GAAqB,CAA7C,EAAgD;AAC/C,YAAM9C,KAAK,GAAG,KAAK+C,gBAAL,CAAsBJ,KAAK,CAACE,KAAN,CAAY,CAAZ,CAAtB,EAAsCG,IAAtC,CAA4ChD,KAAD,IAAS;AACjE,aAAKW,QAAL,CAAc;AAACX,UAAAA,KAAK,EAACA;AAAP,SAAd;AACA,OAFa,CAAd;AAIC;AACH;;AAED+C,EAAAA,gBAAgB,CAAChD,IAAD,EAAO;AACtB,WAAO,KAAKkD,eAAL,CAAqBlD,IAArB,EAA2BiD,IAA3B,CAAgCE,OAAO,IAAI;AAChD,aAAO1C,IAAI,CAACE,KAAL,CAAWwC,OAAX,CAAP;AACA,KAFK,EAEHC,KAFG,CAEGC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAFZ,CAAP;AAGA;;AAEDH,EAAAA,eAAe,CAAClD,IAAD,EAAO;AACrB,UAAMwD,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACC,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,MAAAA,MAAM,CAACK,MAAP,GAAgBlB,KAAK,IAAIgB,OAAO,CAAChB,KAAK,CAACE,MAAN,CAAaiB,MAAd,CAAhC;;AACAN,MAAAA,MAAM,CAACO,OAAP,GAAiBV,KAAK,IAAIO,MAAM,CAACP,KAAD,CAAhC;;AACAG,MAAAA,MAAM,CAACQ,UAAP,CAAkBhE,IAAlB;AACD,KAJM,CAAP;AAKD;;AAEDb,EAAAA,aAAa,CAACwC,CAAD,EAAG;AACZA,IAAAA,CAAC,CAACsC,cAAF;AAEA,UAAMC,QAAQ,GAAGvC,CAAC,CAACkB,MAAF,CAASqB,QAAT,CAAkBC,KAAnC;AACA,UAAMjF,KAAK,GAAGyC,CAAC,CAACkB,MAAF,CAAS3D,KAAT,CAAeiF,KAA7B;;AAEA,QAAIC,QAAQ,qBAAO,KAAKtE,KAAZ,CAAZ;;AACAsE,IAAAA,QAAQ,CAACnE,KAAT,CAAeoE,MAAf,CAAsBnF,KAAtB,EAA6B,CAA7B,EAAgCF,SAAS,CAACkF,QAAD,CAAzC;AACA,SAAKtD,QAAL,mBAAkBwD,QAAlB;AACH;;AAGDnD,EAAAA,MAAM,CAACO,IAAD,EAAO8C,IAAP,EAAY;AACd,QAAIF,QAAQ,qBAAO,KAAKtE,KAAZ,CAAZ;;AACAsE,IAAAA,QAAQ,CAACnE,KAAT,CAAeuB,IAAf,sBAA2B8C,IAA3B;AACA,SAAK1D,QAAL,CAAcwD,QAAd;AACH;;AAEDlD,EAAAA,UAAU,CAACM,IAAD,EAAM;AACZ,QAAI+C,OAAO,qBAAO,KAAKzE,KAAZ,CAAX;;AACAyE,IAAAA,OAAO,CAACtE,KAAR,CAAcoE,MAAd,CAAqB7C,IAArB,EAA2B,CAA3B;AACA,SAAKZ,QAAL,CAAc2D,OAAd;AACH;;AAxI8B;;AA2I/B,eAAe1F,UAAU,CAACc,MAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { useState, Component } from 'react'\r\nimport styles from '../styles/Revelation.module.css'\r\nimport Head from 'next/head'\r\nimport { withRouter } from \"next/router\"\r\n\r\nimport Line, {lineTypes, templates} from './Blocks/Line'\r\n\r\nfunction NewLineForm({index, handleNewLine}){\r\n  return (<div style={{backgroundColor:\"#dcdcdc\", color:\"#dcdcdc\", margin:\"15px\", width:\"100%\"}}><form style={{background:\"none\", width:\"50%\", margin:\"auto\"}} onSubmit={handleNewLine}>\r\n              <input type=\"hidden\" name=\"index\" value={index}/>\r\n\r\n                <select style={{background:\"none\"}} name=\"lineType\" id={\"lineTypes\" + index} defaultValue=\"md\">\r\n                  {lineTypes.map(function(t){\r\n                    return <option key={t} value={t}>{t}</option>\r\n                  })}\r\n          </select>\r\n       \r\n\r\n              <input style={{background:\"none\"}} type=\"submit\" value=\"+\" />\r\n            </form></div>)\r\n}\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    \tquestions: [],\r\n    \tfile:false,\r\n    \tlineTypes: lineTypes,\r\n    \tlines:[]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let lines = []\r\n\r\n    if(localStorage.getItem(this.props.router.query.course) === null){\r\n   \t\tlines = [];\r\n    \tlocalStorage.setItem(this.props.router.query.course, JSON.stringify(lines));\r\n    }else{\r\n    \tlines = JSON.parse(localStorage.getItem(this.props.router.query.course));\r\n    }\r\n\r\n    this.setState({\r\n    \tlines: lines\r\n    })\r\n}\r\n\r\ncomponentWillReceiveProps(newProps){\r\n  if(newProps.router.query.course !== this.props.router.query.course){\r\n    this.setState({lines:JSON.parse(localStorage.getItem(this.props.router.query.course))})\r\n  }\r\n}\r\n\r\n  render() {\r\n  \t  const handleNewLine = this.handleNewLine.bind(this)\r\n  \t  const update = this.update.bind(this)\r\n  \t  const deleteLine = this.deleteLine.bind(this)\r\n    return (\r\n\t<div>\r\n\t      <Head>\r\n\t        <title>Block Editor | Youth Revelation Study</title>\r\n\t        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n\t        <meta charset=\"UTF-8\" />\r\n\r\n\t      </Head>\r\n\r\n\t\t<main>\r\n\r\n    <h1 style={{borderBottom:\"solid 2px gray\"}}>Block Editor  <button onClick={this.save.bind(this)}>SAVE</button><span style={{float:\"right\", fontSize:\".7rem\"}}><input type=\"file\" id=\"input-file\" onChange={this.getFile.bind(this)} /></span>\r\n    </h1>\r\n\t    \r\n\t\r\n\r\n    <NewLineForm index={0} handleNewLine={handleNewLine}/>\r\n\r\n\t\t{this.state.lines.map(function(line, i){\r\n\t\t\treturn <div key={i}><button style={{color:\"red\", marginLeft:\"15px\"}} onClick={(e)=>{\r\n                deleteLine(i)\r\n              }}>x</button><Line key={i} index={i} data={line} update={update} />\r\n              <NewLineForm index={i+1} handleNewLine={handleNewLine}/></div>\r\n\t\t})}\r\n\r\n\t\t</main>\r\n\r\n\r\n</div>\r\n    );\r\n  }\r\n\r\nsave(){\r\n\tconst txt = JSON.stringify(this.state.lines)\r\n\tlocalStorage.setItem(this.props.router.query.course, txt)\r\n\r\n\t// Start file download.\r\n\tthis.download(this.props.router.query.course+\".json\",txt);\r\n}\r\n\r\ndownload(filename, text) {\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n  element.setAttribute('download', filename);\r\n\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n\r\n  element.click();\r\n\r\n  document.body.removeChild(element);\r\n}\r\n\r\ngetFile(event) {\r\n\tconst input = event.target\r\n  if ('files' in input && input.files.length > 0) {\r\n\t  const lines = this.placeFileContent(input.files[0]).then((lines)=>{\r\n\t  \tthis.setState({lines:lines})\r\n\t  })\r\n\r\n  \t}\r\n}\r\n\r\nplaceFileContent(file) {\r\n\treturn this.readFileContent(file).then(content => {\r\n  \treturn JSON.parse(content)\r\n  }).catch(error => console.log(error))\r\n}\r\n\r\nreadFileContent(file) {\r\n\tconst reader = new FileReader()\r\n  return new Promise((resolve, reject) => {\r\n    reader.onload = event => resolve(event.target.result)\r\n    reader.onerror = error => reject(error)\r\n    reader.readAsText(file)\r\n  })\r\n}\r\n\r\nhandleNewLine(e){\r\n    e.preventDefault();\r\n\r\n    const lineType = e.target.lineType.value\r\n    const index = e.target.index.value\r\n\r\n    let newState = {...this.state}\r\n    newState.lines.splice(index, 0, templates[lineType])\r\n    this.setState({...newState})\r\n}\r\n\r\n\r\nupdate(line, data){\r\n    let newState = {...this.state}\r\n    newState.lines[line] = {...data}\r\n    this.setState(newState)\r\n}\r\n\r\ndeleteLine(line){\r\n    let newData = {...this.state}\r\n    newData.lines.splice(line, 1);\r\n    this.setState(newData)\r\n}\r\n\r\n}\r\nexport default withRouter(Editor)\r\n\r\n/*\r\n1-4 Ellyanna\r\n5-11 Jeremiah\r\n12-16 Benjamin\r\n17-22 Rosemary\r\n\r\n1. Summaries\r\n2. Conclusing of Book 1 sentence\r\n\r\n\t\t<Quiz line={1} questions={this.state.questions} updateQuestion={updateQuestion}/>\r\n\r\n    */"]},"metadata":{},"sourceType":"module"}