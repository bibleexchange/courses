{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\sites\\\\github\\\\courses\\\\sermon-outlines\\\\stephen-reynolds-jr\\\\Youth Revelation Study\\\\youth-bible-study\\\\pages\\\\editor.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useState, Component } from 'react';\nimport styles from '../styles/Revelation.module.css';\nimport Head from 'next/head';\nimport { withRouter } from \"next/router\";\nimport Line, { lineTypes, templates } from './Blocks/Line';\n\nfunction NewLineForm(_ref) {\n  var index = _ref.index,\n      handleNewLine = _ref.handleNewLine;\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleNewLine,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"hidden\",\n      name: \"index\",\n      value: index\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"lineType\",\n        id: \"lineTypes\",\n        defaultValue: \"p\",\n        children: lineTypes.map(function (t) {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t,\n            children: t\n          }, t, false, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 11\n  }, this);\n}\n\n_c = NewLineForm;\n\nvar Course = /*#__PURE__*/function (_Component) {\n  _inherits(Course, _Component);\n\n  var _super = _createSuper(Course);\n\n  function Course(props) {\n    var _this;\n\n    _classCallCheck(this, Course);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      course: props.router.query.course,\n      questions: [],\n      file: false,\n      lineTypes: lineTypes,\n      lines: []\n    };\n    return _this;\n  }\n\n  _createClass(Course, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var lines = [];\n\n      if (localStorage && localStorage.getItem(this.props.router.query.course) === null) {\n        lines = [];\n        localStorage.setItem(this.props.router.query.course, JSON.stringify(lines));\n      } else {\n        lines = JSON.parse(localStorage.getItem(this.props.router.query.course));\n      }\n\n      this.setState({\n        lines: lines\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var handleNewLine = this.handleNewLine.bind(this);\n      var update = this.update.bind(this);\n      var deleteLine = this.deleteLine.bind(this);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: [/*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Quiz Editor | Youth Revelation Study\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n            rel: \"icon\",\n            href: \"/favicon.ico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n            charset: \"UTF-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.save.bind(this),\n            children: \"SAVE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"input-file\",\n              children: \"import\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"input-file\",\n              onChange: this.getFile.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(NewLineForm, {\n            index: 0,\n            handleNewLine: handleNewLine\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 5\n          }, this), this.state.lines.map(function (line, i) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  color: \"red\",\n                  marginLeft: \"15px\"\n                },\n                onClick: function onClick(e) {\n                  deleteLine(i);\n                },\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                index: i,\n                data: line,\n                update: update\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 28\n              }, this), /*#__PURE__*/_jsxDEV(NewLineForm, {\n                index: i + 1,\n                handleNewLine: handleNewLine\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 11\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 2\n      }, this);\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var txt = JSON.stringify(this.state.lines);\n      localStorage.setItem(this.state.course, txt); // Start file download.\n\n      this.download(this.state.course + \".json\", txt);\n    }\n  }, {\n    key: \"download\",\n    value: function download(filename, text) {\n      var element = document.createElement('a');\n      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n      element.setAttribute('download', filename);\n      element.style.display = 'none';\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n    }\n  }, {\n    key: \"getFile\",\n    value: function getFile(event) {\n      var _this2 = this;\n\n      var input = event.target;\n\n      if ('files' in input && input.files.length > 0) {\n        var lines = this.placeFileContent(input.files[0]).then(function (lines) {\n          _this2.setState({\n            lines: lines\n          });\n        });\n      }\n    }\n  }, {\n    key: \"placeFileContent\",\n    value: function placeFileContent(file) {\n      return this.readFileContent(file).then(function (content) {\n        return JSON.parse(content);\n      })[\"catch\"](function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"readFileContent\",\n    value: function readFileContent(file) {\n      var reader = new FileReader();\n      return new Promise(function (resolve, reject) {\n        reader.onload = function (event) {\n          return resolve(event.target.result);\n        };\n\n        reader.onerror = function (error) {\n          return reject(error);\n        };\n\n        reader.readAsText(file);\n      });\n    }\n  }, {\n    key: \"handleNewLine\",\n    value: function handleNewLine(e) {\n      e.preventDefault();\n      var lineType = e.target.lineType.value;\n      var index = e.target.index.value;\n\n      var newState = _objectSpread({}, this.state);\n\n      newState.lines.splice(index, 0, templates[lineType]);\n      this.setState(_objectSpread({}, newState));\n    }\n  }, {\n    key: \"update\",\n    value: function update(line, data) {\n      var newState = _objectSpread({}, this.state);\n\n      newState.lines[line] = _objectSpread({}, data);\n      this.setState(newState);\n    }\n  }, {\n    key: \"deleteLine\",\n    value: function deleteLine(line) {\n      var newData = _objectSpread({}, this.state);\n\n      newData.lines.splice(line, 1);\n      this.setState(newData);\n    }\n  }]);\n\n  return Course;\n}(Component);\n\nexport default _c2 = withRouter(Course);\n/*\r\n1-4 Ellyanna\r\n5-11 Jeremiah\r\n12-16 Benjamin\r\n17-22 Rosemary\r\n\r\n1. Summaries\r\n2. Conclusing of Book 1 sentence\r\n\r\n\t\t<Quiz line={1} questions={this.state.questions} updateQuestion={updateQuestion}/>\r\n\r\n    */\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NewLineForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/sites/github/courses/sermon-outlines/stephen-reynolds-jr/Youth Revelation Study/youth-bible-study/pages/editor.js"],"names":["useState","Component","styles","Head","withRouter","Line","lineTypes","templates","NewLineForm","index","handleNewLine","map","t","Course","props","state","course","router","query","questions","file","lines","localStorage","getItem","setItem","JSON","stringify","parse","setState","bind","update","deleteLine","save","getFile","line","i","color","marginLeft","e","txt","download","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","event","input","target","files","length","placeFileContent","then","readFileContent","content","error","console","log","reader","FileReader","Promise","resolve","reject","onload","result","onerror","readAsText","preventDefault","lineType","value","newState","splice","data","newData"],"mappings":"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","sourcesContent":["import { useState, Component } from 'react'\r\nimport styles from '../styles/Revelation.module.css'\r\nimport Head from 'next/head'\r\nimport { withRouter } from \"next/router\"\r\n\r\nimport Line, {lineTypes, templates} from './Blocks/Line'\r\n\r\nfunction NewLineForm({index, handleNewLine}){\r\n  return (<form onSubmit={handleNewLine}>\r\n              <input type=\"hidden\" name=\"index\" value={index}/>\r\n              <label>\r\n                <select name=\"lineType\" id=\"lineTypes\" defaultValue=\"p\">\r\n                  {lineTypes.map(function(t){\r\n                    return <option key={t} value={t}>{t}</option>\r\n                  })}\r\n            \r\n\r\n          </select>\r\n              </label>\r\n\r\n              <input type=\"submit\" value=\"+\" />\r\n            </form>)\r\n}\r\n\r\nclass Course extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    \tcourse: props.router.query.course,\r\n    \tquestions: [],\r\n    \tfile:false,\r\n    \tlineTypes: lineTypes,\r\n    \tlines:[]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let lines = []\r\n\r\n    if(localStorage && localStorage.getItem(this.props.router.query.course) === null){\r\n   \t\tlines = [];\r\n    \tlocalStorage.setItem(this.props.router.query.course, JSON.stringify(lines));\r\n    }else{\r\n    \tlines = JSON.parse(localStorage.getItem(this.props.router.query.course));\r\n    }\r\n\r\n    this.setState({\r\n    \tlines: lines\r\n    })\r\n}\r\n\r\n  render() {\r\n  \t  const handleNewLine = this.handleNewLine.bind(this)\r\n  \t  const update = this.update.bind(this)\r\n  \t  const deleteLine = this.deleteLine.bind(this)\r\n    return (\r\n\t<div>\r\n\t      <Head>\r\n\t        <title>Quiz Editor | Youth Revelation Study</title>\r\n\t        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n\t        <meta charset=\"UTF-8\" />\r\n\t      </Head>\r\n\r\n\t\t<main>\r\n\t    \r\n\t\t<button onClick={this.save.bind(this)}>SAVE</button>\r\n\r\n\t\t<div>\r\n\t\t <label htmlFor=\"input-file\">import</label><br/>\r\n\t\t <input type=\"file\" id=\"input-file\" onChange={this.getFile.bind(this)} />\r\n\t\t</div>\r\n\r\n    <NewLineForm index={0} handleNewLine={handleNewLine}/>\r\n\r\n\t\t{this.state.lines.map(function(line, i){\r\n\t\t\treturn <div><button style={{color:\"red\", marginLeft:\"15px\"}} onClick={(e)=>{\r\n                deleteLine(i)\r\n              }}>x</button><Line key={i} index={i} data={line} update={update} />\r\n              <NewLineForm index={i+1} handleNewLine={handleNewLine}/></div>\r\n\t\t})}\r\n\r\n\t\t</main>\r\n\r\n\r\n</div>\r\n    );\r\n  }\r\n\r\nsave(){\r\n\tconst txt = JSON.stringify(this.state.lines)\r\n\tlocalStorage.setItem(this.state.course, txt)\r\n\r\n\t// Start file download.\r\n\tthis.download(this.state.course+\".json\",txt);\r\n}\r\n\r\ndownload(filename, text) {\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n  element.setAttribute('download', filename);\r\n\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n\r\n  element.click();\r\n\r\n  document.body.removeChild(element);\r\n}\r\n\r\ngetFile(event) {\r\n\tconst input = event.target\r\n  if ('files' in input && input.files.length > 0) {\r\n\t  const lines = this.placeFileContent(input.files[0]).then((lines)=>{\r\n\t  \tthis.setState({lines:lines})\r\n\t  })\r\n\r\n  \t}\r\n}\r\n\r\nplaceFileContent(file) {\r\n\treturn this.readFileContent(file).then(content => {\r\n  \treturn JSON.parse(content)\r\n  }).catch(error => console.log(error))\r\n}\r\n\r\nreadFileContent(file) {\r\n\tconst reader = new FileReader()\r\n  return new Promise((resolve, reject) => {\r\n    reader.onload = event => resolve(event.target.result)\r\n    reader.onerror = error => reject(error)\r\n    reader.readAsText(file)\r\n  })\r\n}\r\n\r\nhandleNewLine(e){\r\n    e.preventDefault();\r\n\r\n    const lineType = e.target.lineType.value\r\n    const index = e.target.index.value\r\n\r\n    let newState = {...this.state}\r\n    newState.lines.splice(index, 0, templates[lineType])\r\n    this.setState({...newState})\r\n}\r\n\r\n\r\nupdate(line, data){\r\n    let newState = {...this.state}\r\n    newState.lines[line] = {...data}\r\n    this.setState(newState)\r\n}\r\n\r\ndeleteLine(line){\r\n    let newData = {...this.state}\r\n    newData.lines.splice(line, 1);\r\n    this.setState(newData)\r\n}\r\n\r\n}\r\nexport default withRouter(Course)\r\n\r\n/*\r\n1-4 Ellyanna\r\n5-11 Jeremiah\r\n12-16 Benjamin\r\n17-22 Rosemary\r\n\r\n1. Summaries\r\n2. Conclusing of Book 1 sentence\r\n\r\n\t\t<Quiz line={1} questions={this.state.questions} updateQuestion={updateQuestion}/>\r\n\r\n    */"]},"metadata":{},"sourceType":"module"}